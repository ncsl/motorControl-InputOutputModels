neuron_names = load('neuron_names.mat');
neuron_names = neuron_names.X0918;
dataDir = './Monkey X/';

% directories for 4 different experimental conditions
pullDir = fullfile(dataDir, 'pull');    
pushDir = fullfile(dataDir, 'push');
malletDir = fullfile(dataDir, 'mallet');
sphereDir = fullfile(dataDir, 'sphere');

if ~exist(pullDir, 'dir')
    mkdir(pullDir);
    mkdir(pushDir);
    mkdir(malletDir);
    mkdir(sphereDir);
end

for i=1:length(neuron_names)
    [trains, kipos] = extractdata('X0918', neuron_names{i}, 'push');
    file = fullfile(pushDir, neuron_names{i});
    save(file, 'trains', 'kipos');
    
end